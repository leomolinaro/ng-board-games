<ng-container *ngFor="let player of players; index as i; trackBy: playerTrackBy"
  [bgForm]="player" (bgFormChange)="onPlayerChange ($event, i)">

  <button class="b-new-players-type-button" 
    [ngClass]="'is-' + player.color"
    mat-fab (click)="onNextPlayerType (player.type, i)">
    <ng-container [ngSwitch]="player.type">
      <mat-icon *ngSwitchCase="'closed'">no_accounts</mat-icon>
      <mat-icon *ngSwitchCase="'me'">person_pin</mat-icon>
      <mat-icon *ngSwitchCase="'other'">cloud_cirle</mat-icon>
      <mat-icon *ngSwitchCase="'ai'">monitor</mat-icon>
      <mat-icon *ngSwitchCase="'open'">cloud</mat-icon>
    </ng-container>
  </button>
  <ng-container [ngSwitch]="player.type">
    <span *ngSwitchCase="'closed'" class="mat-caption b-new-players-type-caption">closed</span>
    <span *ngSwitchCase="'me'" class="mat-caption b-new-players-type-caption">me</span>
    <span *ngSwitchCase="'other'" class="mat-caption b-new-players-type-caption">TODO</span>
    <span *ngSwitchCase="'ai'" class="mat-caption b-new-players-type-caption">AI</span>
    <span *ngSwitchCase="'open'" class="mat-caption b-new-players-type-caption">open</span>
  </ng-container>

  <!-- <mat-form-field>
    <mat-label>Color</mat-label>
    <mat-select bgField="color"
      [required]="player.type !== 'closed'"
      [disabled]="player.type === 'closed'">
      <mat-option *ngFor="let colorOption of colorOptions" [value]="colorOption.id">
        {{ colorOption.label }}
      </mat-option>
    </mat-select>
  </mat-form-field> -->
  <mat-form-field>
    <mat-label>Player name</mat-label>
    <input bgField="name" matInput 
      [required]="player.type !== 'closed'"
      [disabled]="player.type === 'closed'"
      autocomplete="off">
  </mat-form-field>

  <mat-checkbox>Ready</mat-checkbox>
</ng-container>